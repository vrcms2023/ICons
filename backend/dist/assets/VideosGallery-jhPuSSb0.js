import{e as G,r as l,j as e,k as b,g as N,M as g,b as S}from"./index-BWK7iHxT.js";import{A as V}from"./ImgTitleIntoForm-List-lLWZKaCx.js";import{i as E,m as L}from"./dynamicFormFields-JEId_5aT.js";import{D as T}from"./DynamicCarousel-SOnBWgyQ.js";import"./DeleteDialog-DnRfuXBp.js";import"./FileUpload-BBAUjrX2.js";import"./Error-B_8W099F.js";import"./DeleteDialog-sO22D6fc.js";import"./dnd.esm-DtnQK6qL.js";import"./NoteComponent-D3-ze1DQ.js";/* empty css                        */const $=()=>{const p={gallery:!1},d="VideosGallery",{isAdmin:y,hasPermission:u}=G(),[h,f]=l.useState(!1),[r,x]=l.useState(p),[o,j]=l.useState([]),[i,n]=l.useState(!1),[w,v]=l.useState(null),c=(s,a)=>{x(t=>({...t,[s]:a})),f(a),document.body.style.overflow="hidden"};l.useEffect(()=>{const s=async()=>{try{const a=await S.get(`imgGallery/clientImageVidoeGallery/${d}/`);if((a==null?void 0:a.status)===200){let t=Object.keys(a.data);j(a.data[t])}}catch{console.log("unable to access ulr because of server is down")}};r.gallery||s()},[r.gallery]),l.useEffect(()=>{window.scrollTo(0,0)},[]);const I=s=>{const a=o.find(t=>t.id===s);n(!i),v(a)},m=()=>{n(!i)};return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12 py-5",children:[y&&u&&e.jsx(b,{editHandler:()=>c("gallery",!0)}),r.gallery&&e.jsx("div",{className:"adminEditTestmonial selected ",children:e.jsx(V,{editHandler:c,componentType:"gallery",popupTitle:"Video Gallery",getImageListURL:`imgGallery/createImageVidoeGallery/${d}/`,deleteImageURL:"imgGallery/updateImageVidoeGallery/",imagePostURL:"imgGallery/createImageVidoeGallery/",imageUpdateURL:"imgGallery/updateImageVidoeGallery/",imageIndexURL:"",imageLabel:"Add Image",showDescription:!1,showExtraFormFields:L("VideosGallery"),dimensions:E("VideosGallery"),validTypes:"video/quicktime,video/mp4,video/avi"})})]})}),e.jsx("div",{className:"row gallery",children:(o==null?void 0:o.length)>0&&(o==null?void 0:o.map((s,a)=>e.jsxs("div",{className:"col-4 mb-4",children:[e.jsxs("video",{width:"320",height:"240",controls:!0,className:"d-block w-75",onClick:()=>I(s.id),children:[e.jsx("source",{src:N(s.path),type:`video/${s.contentType.replace(".","").toUpperCase()}`}),"Your browser does not support the video tag."]}),e.jsxs("div",{className:"carousel-caption ",children:[s.image_title&&e.jsx("h1",{className:"fw-bold",children:s.image_title}),s.image_description&&e.jsx("p",{className:"fw-normal description fs-5",children:s.image_description})]})]},s.id)))}),h&&e.jsx(g,{}),i&&e.jsx(T,{obj:w,all:o,closeCarousel:m}),i&&e.jsx(g,{closeModel:m})]})};export{$ as default};
