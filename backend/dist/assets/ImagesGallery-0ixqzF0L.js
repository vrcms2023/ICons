import{r as i,j as e,g as f,M as I,e as G,k as v,b as w,Q as N}from"./index-BWK7iHxT.js";import{A as S}from"./ImgTitleIntoForm-List-lLWZKaCx.js";import{i as L,m as b}from"./dynamicFormFields-JEId_5aT.js";import{I as C}from"./Styled-ImageGallery-CvSD8HyL.js";import{D as E}from"./DynamicCarousel-SOnBWgyQ.js";import{C as R}from"./CustomPagination-CzwkxU7w.js";import"./DeleteDialog-DnRfuXBp.js";import"./FileUpload-BBAUjrX2.js";import"./Error-B_8W099F.js";import"./DeleteDialog-sO22D6fc.js";import"./dnd.esm-DtnQK6qL.js";import"./NoteComponent-D3-ze1DQ.js";/* empty css                        */const V=({pageType:u,componentEdit:t,imageGallery:a})=>{const[n,o]=i.useState(!1),[g,p]=i.useState(null),y=l=>{const d=a.find(c=>c.id===l);o(!n),p(d)},r=()=>{o(!n)};return e.jsxs("div",{children:[e.jsx("div",{className:"row gallery",children:e.jsx("div",{className:"col-md-10 offset-md-1",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"text-center my-5",children:e.jsx("span",{className:"fs-1",children:"View Gallery"})}),e.jsx("div",{className:"row",children:(a==null?void 0:a.length)>0&&(a==null?void 0:a.map((l,d)=>e.jsx("div",{className:"col-sm-6 col-md-4 mb-4",children:e.jsx("img",{src:f(l.path),alt:l.alternitivetext,className:"d-block w-100 img-fluid",onClick:()=>y(l.id)})},l.id)))})]})})}),n&&e.jsx(E,{obj:g,all:a,closeCarousel:r}),n&&e.jsx(I,{closeModel:r})]})},Q=()=>{const u={gallery:!1},t="imageGallery",{isAdmin:a,hasPermission:n}=G(),[o,g]=i.useState(u),[p,y]=i.useState([]),[r,l]=i.useState({}),[d,c]=i.useState(1),x=(m,s)=>{g(j=>({...j,[m]:s})),document.body.style.overflow="hidden"};i.useEffect(()=>{const m=async()=>{try{const s=await w.get(`imgGallery/clientImageVidoeGallery/${t}/`);(s==null?void 0:s.status)===200&&h(s==null?void 0:s.data)}catch{console.log("unable to access ulr because of server is down")}};o.gallery||m()},[o.gallery]),i.useEffect(()=>{window.scrollTo(0,0)},[]);const h=m=>{y(m.results),l(N(m)),c(1)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12 py-5",children:[a&&n&&e.jsx(v,{editHandler:()=>x("gallery",!0)}),o.gallery&&e.jsx("div",{className:"adminEditTestmonial selected ",children:e.jsx(S,{editHandler:x,componentType:"gallery",popupTitle:"Image Gallery",getImageListURL:`imgGallery/createImageVidoeGallery/${t}/`,deleteImageURL:"imgGallery/updateImageVidoeGallery/",imagePostURL:"imgGallery/createImageVidoeGallery/",imageUpdateURL:"imgGallery/updateImageVidoeGallery/",imageIndexURL:"",imageLabel:"Add Image",showDescription:!1,showExtraFormFields:b("imageGallery"),dimensions:L("imageGallery")})})]})}),e.jsx(V,{pageType:t,componentEdit:o,imageGallery:p})]})}),e.jsx("div",{className:"row my-5",children:(r==null?void 0:r.total_count)&&e.jsx(R,{paginationData:r,paginationURL:a?`imgGallery/createImageVidoeGallery/${t}/`:`imgGallery/clientImageVidoeGallery/${t}/`,paginationSearchURL:a?`imgGallery/createImageVidoeGallery/${t}/`:`imgGallery/clientImageVidoeGallery/${t}/`,setCurrentPage:c,currentPage:d,setResponseData:h,pageLoadResult:""})})]})};export{Q as default};
