import{r as l,j as e,T as p,b as w,o as I,E as S,B as g,c as _,d as B}from"./index-BWK7iHxT.js";import{B as A}from"./Styled-BriefIntro-DpTy6njT.js";import{A as T}from"./Ancher-Cr_S9HGk.js";const k=({pageType:d,introState:u,linkCss:b,linkLabel:n,moreLink:c,introTitleCss:f="",introSubTitleCss:t="",introDecTitleCss:i="",detailsContainerCss:m,anchorContainer:j,anchersvgColor:N,showLink:v})=>{const[s,x]=l.useState([]);return l.useEffect(()=>{u||(async()=>{try{const a=await w.get(`/carousel/clientHomeIntro/${d}/`);(a==null?void 0:a.status)===200&&x(a.data.intro)}catch{console.log("unable to access ulr because of server is down")}})()},[u,d]),e.jsx("div",{className:"container",children:e.jsx(A,{children:e.jsx("div",{className:"row ",children:e.jsxs("div",{className:`${m} briefIntro`,children:[(s==null?void 0:s.intro_title)===""?"":e.jsx(p,{title:s==null?void 0:s.intro_title,cssClass:f}),(s==null?void 0:s.subTitle)===""?"":e.jsx(p,{title:s==null?void 0:s.subTitle,cssClass:t}),e.jsx("p",{className:i,children:s!=null&&s.intro_desc?s==null?void 0:s.intro_desc:"Please Update Brief Intro"}),v&&e.jsx("div",{className:j,children:e.jsx(T,{AncherLabel:n,Ancherpath:c,AncherClass:b,AnchersvgColor:N})})]})})})})},U=({editHandler:d,componentType:u,popupTitle:b,pageType:n})=>{const c=()=>{d(u,!1),document.body.style.overflow=""},f={intro_title:"",subTitle:"",intro_desc:"",intro_morelink:"",id:"",pageType:n},[t,i]=l.useState(f),[m,j]=l.useState(""),[N,v]=l.useState(""),[s,x]=l.useState(!1);l.useEffect(()=>{j(I("userName"))},[]),l.useEffect(()=>{(async()=>{try{let o=await _.get(`/carousel/updateHomeIntro/${n}/`),C=a(o.data.intro);i(C)}catch{console.log("Unable to get the intro")}})()},[]);const h=r=>{v(""),i({...t,[r.target.name]:r.target.value})},a=r=>({intro_title:r.intro_title,subTitle:r.subTitle,intro_desc:r.intro_desc,intro_morelink:r.intro_morelink,id:r.id,pageType:n}),y=async()=>{const r={intro_title:t.intro_title,subTitle:t.subTitle,intro_desc:t.intro_desc,intro_morelink:t.intro_morelink,pageType:n,updated_by:m};try{let o="";t.id?(r.updated_by=m,o=await _.put(`/carousel/updateHomeIntro/${n}/`,{...r},x(!0))):(r.created_by=m,o=await _.post("/carousel/createHomeIntro/",{...r})),(o.status===200||o.status===201)&&(i(a(o.data.intro)),x(!0),c())}catch{B.error("Unable to save the intro")}};return e.jsxs(e.Fragment,{children:[e.jsx(S,{closeHandler:c,title:b}),e.jsx("hr",{className:"m-0"}),e.jsxs("div",{className:"container my-3",children:[s?e.jsx(e.Fragment,{children:e.jsx(p,{title:"Saved Successfully",cssClass:"text-white text-center bg-success py-2"})}):"",e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"mb-3 row",children:[e.jsx("label",{htmlFor:"",className:"col-sm-12 col-form-label",children:"Title"}),e.jsx("div",{className:"col-sm-12",children:e.jsx("input",{name:"intro_title",value:t.intro_title?t.intro_title:"",type:"text",className:"form-control p-2",onChange:h})})]}),e.jsxs("div",{className:"mb-3 row",children:[e.jsx("label",{htmlFor:"",className:"col-sm-12 col-form-label",children:"SubTitle"}),e.jsx("div",{className:"col-sm-12",children:e.jsx("input",{name:"subTitle",value:t.subTitle?t.subTitle:"",type:"text",className:"form-control p-2",onChange:h})})]}),e.jsxs("div",{className:"mb-3 row",children:[e.jsx("label",{htmlFor:"",className:"col-sm-12 col-form-label",children:"Description"}),e.jsx("div",{className:"col-sm-12",children:e.jsx("textarea",{name:"intro_desc",className:"form-control",id:"exampleFormControlTextarea1",rows:"10",value:t.intro_desc?t.intro_desc:"",onChange:h})})]}),e.jsxs("div",{className:"d-flex justify-content-center flex-column flex-sm-row align-items-center gap-3 mt-4",children:[e.jsx(g,{type:"submit",cssClass:"btn btn-primary",label:`${t!=null&&t.id?"Update":"Save"}`,handlerChange:y}),e.jsx(g,{type:"submit",cssClass:"btn btn-more",label:"Close",handlerChange:c})]})]})})]})]})};export{k as B,U as a};
