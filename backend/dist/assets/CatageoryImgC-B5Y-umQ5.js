import{at as b,F as j,e as C,r as I,j as a,P as N,c as m}from"./index-BWK7iHxT.js";import{D as u}from"./DeleteDialog-sO22D6fc.js";import{l as f}from"./DeleteDialog-DnRfuXBp.js";const E=({title:P,catategoryImgs:l,catategoryImgState:o,cssClass:g,project:n,category:r})=>{const[x,h,p]=b(["token","clientInformation"]),y=j(),c=N(),{isAdmin:k}=C();I.useEffect(()=>{const e=async()=>{var t,i;const s=await m.get("/gallery/getSelectedImagesById/",{params:{projectID:n.id,category:r}});(s==null?void 0:s.status)===200&&((i=(t=s==null?void 0:s.data)==null?void 0:t.fileData)==null?void 0:i.length)>0&&o(s.data.fileData)};n!=null&&n.id&&e()},[n,r]);const d=(e,s)=>{const t=async()=>{if((await m.delete(`/gallery/deleteGalleryImage/${e}/`)).status===204){const w=l.filter(D=>D.id!==e);o(w)}};f.confirmAlert({customUI:({onClose:i})=>a.jsx(u,{onClose:i,callback:t,message:`deleting the ${s} image?`})})},v=e=>{if(k)return!0;const s=()=>{p("previousPath"),h("previousPath",window.location.pathname),y("/contact")};x.clientInformation!==void 0?window.open(e,"_blank","location=yes,height=800,width=600 ,scrollbars=yes,status=yes"):f.confirmAlert({customUI:({onClose:t})=>a.jsx(u,{title:"We need some your personal details to download PDF's",onClose:t,callback:s,label:"to Download PDF's",buttonStyle:"btn-success"})})};return a.jsx("div",{className:"",children:l.length>0?a.jsx(a.Fragment,{children:a.jsx("div",{className:"d-flex justify-content-start align-items-center flex-wrap",children:l.map(e=>e.contentType===".pdf"?a.jsx("div",{className:"categoryContainer",children:a.jsxs("li",{className:"list-group-item d-flex justify-content-center align-items-between me-3",children:[a.jsx("a",{href:"#!",onClick:()=>v(`${c}${e.path}`),className:"mx-1 text-dark",children:e.originalname}),a.jsx("span",{onClick:()=>d(e.id,e.originalname),children:a.jsx("i",{className:"fa fa-trash-o fs-4 text-danger","aria-hidden":"true"})})]})},e.id):a.jsx("div",{className:"categoryContainer",onClick:()=>d(e.id,e.originalname),children:a.jsx("img",{className:g,src:`${c}${e.path}`,alt:" "})},e.id))})}):""})};export{E as C};
