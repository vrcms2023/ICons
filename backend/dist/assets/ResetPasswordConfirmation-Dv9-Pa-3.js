import{u as g,r as i,D as b,j as s,T as N,L as y,B as _,b as P}from"./index-BWK7iHxT.js";import{E as v}from"./Error-B_8W099F.js";import{L as C}from"./Styled-Login-CHeHVSft.js";const R=()=>{const{register:n,handleSubmit:d}=g(),[c,o]=i.useState(!1),[r,a]=i.useState(!1);let{uid:m,token:u}=b();const x=async t=>{const f={uid:m,token:u,new_password:t.new_password,re_new_password:t.re_new_password},h=JSON.stringify(f);try{(await P.post("/user/auth/users/reset_password_confirm/",h)).status===204&&o(!0)}catch(e){if(typeof e=="object"){const j=Object.keys(e);a(e[j])}else a(e[0])}},w=()=>{},l=t=>{p()},p=()=>{o(!1),a(!1)};return s.jsx(C,{children:s.jsx("div",{className:"login",children:s.jsx("div",{className:"bg-white d-flex justify-content-center align-items-center flex-column",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center",children:s.jsxs("form",{onSubmit:d(x),className:"shadow-lg",children:[r?s.jsx("p",{className:"fw-bold",children:r&&s.jsx(v,{children:r})}):"",s.jsx(N,{title:"Reset Password Confirmation",cssClass:"text-center text-dark mb-4 fw-bold fs-4"}),c?s.jsxs("div",{className:"mt-3",children:["Password updated successfully Click here to login"," ",s.jsx(y,{to:"/login",children:"Login"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"signPassord",className:"form-label text-dark fw-normal",children:"Password"}),s.jsx("input",{type:"password",...n("new_password",{required:!0}),required:!0,name:"new_password",onChange:l,className:"form-control",id:"signPassord"}),s.jsx("small",{className:"text-muted",children:"Passwords must be at least 6 characters."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"signPassordRe",className:"form-label text-dark fw-normal",children:"Re-enter password"}),s.jsx("input",{type:"password",...n("re_new_password",{required:!0}),required:!0,name:"re_new_password",onChange:l,className:"form-control",id:"signPassordRe"})]}),s.jsx("div",{className:"d-grid gap-2 mt-4",children:s.jsx(_,{type:"submit",cssClass:"btn btn-lg btn-primary",handlerChange:w,label:"Update Password"})})]})]})})})})})})};export{R as default};
