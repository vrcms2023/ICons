import{r as a,f as w,h as A,a0 as V,a as B,j as t,B as m}from"./index-BWK7iHxT.js";import{P as D}from"./ProjectGalleryView-DvaPbFwk.js";import"./DynamicCarousel-SOnBWgyQ.js";/* empty css                        */const O=()=>{const[x,i]=a.useState([]),[C,j]=a.useState([]),[y,b]=a.useState([]),[v,E]=a.useState([]),[u,P]=a.useState("ongoing"),{clientProjects:n}=w(s=>s.clientProjects),d=A();a.useEffect(()=>{var s,c,o,l;if(((s=n==null?void 0:n.projectList)==null?void 0:s.length)>0){const e=S(n);((c=e==null?void 0:e.completed)==null?void 0:c.length)>0&&b(e.completed),((o=e==null?void 0:e.future)==null?void 0:o.length)>0&&E(e==null?void 0:e.future),((l=e==null?void 0:e.ongoing)==null?void 0:l.length)>0&&(j(e==null?void 0:e.ongoing),i(e==null?void 0:e.ongoing))}},[n]),a.useEffect(()=>{n.length===0&&d(V())},[d,n]),a.useEffect(()=>{B()},[]);const S=s=>{const c=s.projectList,o=s.imageList,l=[];return c.reduce((r,f,F)=>{const p=[];return o.forEach((h,M)=>{h.projectID===f.id&&p.push(h)}),r.concat({...f,imgs:p})},[]).map(r=>(l[r.projectCategoryValue]||(l[r.projectCategoryValue]=[]),l[r.projectCategoryValue].push(r))),l},g=s=>{const o=s.split(" ")[0].toLowerCase();P(o),o==="ongoing"&&i(C),o==="completed"&&i(y),o==="future"&&i(v)};return a.useEffect(()=>{window.scrollTo(0,0)},[]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"py-5 mt-5",children:[t.jsxs("div",{className:"text-center pb-2 mt-5 galleryTab",children:[t.jsx(m,{type:"",cssClass:`loadMore me-2 ${u==="ongoing"?"active":""}`,label:"Ongoing Projects",handlerChange:g}),t.jsx(m,{type:"",cssClass:`loadMore me-2 ${u==="completed"?"active":""}`,label:"Completed Projects",handlerChange:g}),t.jsx(m,{type:"",cssClass:`loadMore me-2 ${u==="future"?"active":""}`,label:"Future Projects",handlerChange:g})]}),t.jsx("hr",{}),t.jsx("div",{children:t.jsx(D,{projectImages:x,type:"applicationgallery"})})]})})};export{O as default};
